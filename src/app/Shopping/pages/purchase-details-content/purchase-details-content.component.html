<app-merchant-navigation></app-merchant-navigation>
<div class="container">
<mat-card class="order-card">
  <mat-card-header>
    <p>Fecha: {{order.orderedDate}}</p>
  </mat-card-header>
  <mat-card-content>
    <div class="product-info">
      <img width="30%" alt="{{product.name}}" class="product-photo" src="{{sale.imageUrl}}">
    </div>
    <div class="product-info">
      <p>Producto: {{sale.name}}</p>
      <p>Descripción: {{sale.description}}</p>
      <p>Estado: {{order.status}}</p>
      <p>Precio Unitario: {{sale.unitPrice}}</p>
      <p>Cantidad: {{order.quantity}}</p>
      <p>Precio Total: {{order.totalPrice}}</p>
    </div>
    <div class="farmer-info">
      <p>Productor: {{sale.userId}}</p>
    </div>
    <div class="buttons">
      <button class="warn" mat-raised-button (click)="openDialog(); deleteOrder(order.id)">Cancelar</button>
    </div>
  </mat-card-content>
</mat-card>
</div>
<div class="progress-bar-container">
  <mat-progress-bar
    mode="determinate"
    [value]="calculateProgress(order.status)"
  ></mat-progress-bar>

  <div class="status-description" [ngClass]="{'pending': order.status === 'pending', 'finalized': order.status === 'finalized', 'qualified': order.status === 'qualified'}">
    <p>
      <span *ngIf="order.status === 'pending'">La compra está pendiente.</span>
      <span *ngIf="order.status === 'finalized'">La compra termino con exito.</span>
      <span *ngIf="order.status === 'qualified'">La compra fue calificada.</span>
    </p>
  </div>
  <button mat-icon-button (click)="navigateBack()">
      <mat-icon aria-label="Volver">arrow_back</mat-icon>
  </button>
</div>


